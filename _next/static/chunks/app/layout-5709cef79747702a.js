(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{131:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(5453).v)(e=>({countdown:120,setCountdown:t=>e({countdown:t})}))},347:()=>{},3120:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var r=a(5155),n=a(2115);let l={versionControl:"https://raw.githubusercontent.com/aroan-v/nylon-biggest-breakout-star-cache/refs/heads/main/version.json"};var s=a(5224),o=a(3856),i=a(5788),c=a(131);let d=null;async function u(){try{let e,t=await (e=l.versionControl,fetch(e).then(e=>e.json()));if(null===d){d=t.appVersion;return}if(t.appVersion===d)return;window.location.reload()}catch(e){console.error("Version check failed:",e)}}async function m(e,t,a){try{let r=await fetch("https://polls.polldaddy.com/vote-js.php?p=15909793"),n=await r.text(),l=function(e){let t={};for(let a of e.matchAll(/title="([^"]+)"[\s\S]*?\(([\d,.]+) votes\)/g)){let e=a[1],r=a[2];t[e]=Number(r.replace(/,/g,""))}let a=e.match(/Total Votes: <span>([\d,.]+)<\/span>/);return a&&a[1],t}(n);return t.current=l,function(e,t,a,r){var n;let l=a.current,s=r.current,i=o.a.primaryPlayerNameInApi,c=e[i],d=Object.entries(e).map(e=>{let[t,a]=e,n=o.a.candidateProperties.find(e=>{let{name:a}=e;return a===t}),s=n?n.src:null,i=null;if(l){let e=l[t];"number"==typeof e&&(i=Math.max(a-e,0))}let c=null,d=r.current;if(d&&d.votes){let e=d.votes[t];"number"==typeof e&&(c=a-e)}return{name:t,src:s,votes:a,deltaFromLastSnapshot:i,deltaFromBaseline:c}}).sort((e,t)=>t.votes-e.votes),u=d.filter(e=>e.name!==i).reduce((e,t)=>t.votes>e.votes?t:e,{name:null,votes:-1}),m=Math.abs(c-u.votes),p=c>u.votes;t({isLoading:!1,enemyPlayerData:u,allParticipantsData:d,gapBetweenPrimaryAndEnemy:m,enemyPlayerDisplayName:u.name,isPrimaryPlayerLeading:p,primaryPlayerTotalVotes:c,lastApiUpdate:new Date().toLocaleTimeString("en-PH",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:"Asia/Manila"}),baselineTime:(n=s.time,new Date(n).toLocaleTimeString("en-PH",{hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"Asia/Manila"}))})}(l,e,t,a),l}catch(e){return console.error("Error fetching votes:",e),null}}var p=a(6766);let y={title:"Boldest Breakout Star"};var h=a(7305);function v(e){let{children:t}=e,[a,l]=n.useState(!1),[s,o]=n.useState(""),[i,c]=n.useState(!0),[d,u]=n.useState("");return(n.useEffect(()=>{!async function(){let e=await fetch("https://raw.githubusercontent.com/aroan-v/nylon-biggest-breakout-star-cache/refs/heads/main/password.json"),t=await e.json();u(t.password);let a=localStorage.getItem("auth_password");a&&a===t.password&&l(!0),c(!1)}()},[]),i)?(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)(h.A,{})}):a?(0,r.jsx)(r.Fragment,{children:t}):(0,r.jsxs)("div",{className:"flex h-screen flex-col items-center justify-center gap-5",children:[(0,r.jsx)("div",{className:"mx-auto w-[300px]",children:(0,r.jsx)(p.default,{src:"/nylon-logo.svg",alt:"Nylon Logo",width:3443,height:590,unoptimized:!0})}),(0,r.jsx)("h1",{className:"text-color-foreground text-center text-xl leading-tight font-extrabold sm:text-2xl",children:y.title}),(0,r.jsxs)("div",{className:"w-80 rounded-lg bg-gray-800 p-6 shadow-lg shadow-black/40",children:[(0,r.jsx)("h2",{className:"mb-4 text-xl font-bold text-gray-100",children:"Enter Password"}),(0,r.jsx)("input",{type:"password",value:s,onChange:e=>o(e.target.value),className:"mb-4 w-full rounded border border-gray-700 bg-gray-900 p-2 text-gray-100 placeholder-gray-500 outline-none focus:border-blue-500 focus:ring focus:ring-blue-500/30",placeholder:"Password"}),(0,r.jsx)("button",{onClick:()=>{s===d?(localStorage.setItem("auth_password",s),l(!0)):alert("Wrong password!")},className:"w-full rounded bg-blue-600 p-2 text-white transition hover:bg-blue-500",children:"Submit"})]})]})}let g=function(e){let{children:t}=e,a=(0,s.D)(e=>e.setState),l=(0,i.J)(e=>e.hydrate);(0,c.A)(e=>e.setCountdown);let o=n.useRef(null),d=n.useRef({time:Date.now(),votes:null});n.useEffect(()=>{console.log("initializeData mounted");let e={},t=e=>{d.current={time:Date.now(),votes:e},console.log("Baseline reset at",new Date(d.current.time).toLocaleTimeString())},r=()=>{e.version||(e.version=setInterval(u,6e4)),e.htmlParse||(e.htmlParse=setInterval(async()=>{let e=await m(a,o,d);d.current.votes||t(e)},3e3)),e.baselineChecker||(e.baselineChecker=setInterval(()=>{let e=Date.now()-d.current.time,a=Math.max(0,Math.floor((12e4-e)/1e3));c.A.getState().setCountdown(a),e>=12e4&&o.current&&t(o.current)},1e3))},n=()=>{Object.values(e).forEach(clearInterval),Object.keys(e).forEach(t=>delete e[t])},s=()=>{document.hidden?n():r()};return document.addEventListener("visibilitychange",s),l(),r(),()=>{n(),document.removeEventListener("visibilitychange",s)}},[a,l]);let p=(0,i.J)(e=>e.addVote);return n.useEffect(()=>{let e=e=>{e.data&&"vote"===e.data.type&&p()};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[p]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(v,{children:t})})}},3856:(e,t,a)=>{"use strict";a.d(t,{a:()=>r});let r={primaryPlayerNameInApi:"WILL ASHLEY",enemyPlayerNameInApi:"candidateB",primaryPlayerDisplayName:"WILL ASHLEY",enemyPlayerDisplayName:"candidateB",candidateNames:["WILL ASHLEY","FYANG SMITH","CUP OF JOE","ASHTINE OLVIGA","EMILIO DAEZ","ESNYR"],otherPlayersNameInApi:["FYANG SMITH","CUP OF JOE","ASHTINE OLVIGA","EMILIO DAEZ","ESNYR"],candidateProperties:[{name:"WILL ASHLEY",src:"/will.webp"},{name:"EMILIO DAEZ",src:"/emilio.webp"},{name:"ASHTINE OLVIGA",src:"/ashtine.webp"},{name:"FYANG SMITH",src:"/fyang.webp"},{name:"ESNYR",src:"/esnyr.webp"},{name:"CUP OF JOE",src:"/cupofjoe.webp"}]};r.primaryPlayerDisplayName},5224:(e,t,a)=>{"use strict";a.d(t,{D:()=>l});var r=a(5453),n=a(3856);let l=(0,r.v)(e=>({data:null,error:null,isLoading:!0,lastApiUpdate:"--",lastSnapshotDate:"--",primaryPlayerData:null,allParticipantsData:null,enemyPlayerData:null,gapBetweenPrimaryAndEnemy:0,isPrimaryPlayerLeading:!1,fiveMinuteVoteMovement:null,fiveMinuteGapMovement:null,halfHourlyVoteMovement:null,halfHourlyGapMovement:null,hourlyVoteMovement:null,hourlyGapMovement:null,baselineTime:null,serverPassword:null,isAuthenticated:null,isAuthenticatedLoading:null,currentVersion:null,lastVotesSnapshot:null,votesGainedAfterLastSnapshot:null,primaryPlayerDisplayName:n.a.primaryPlayerDisplayName,enemyPlayerDisplayName:n.a.enemyPlayerDisplayName,primaryPlayerTotalVotes:null,setState:t=>e(t)}))},5788:(e,t,a)=>{"use strict";a.d(t,{J:()=>l});var r=a(5453);let n=()=>new Date().toLocaleDateString(),l=(0,r.v)((e,t)=>({dailyRecordedVotes:0,totalRecordedVotes:0,lastRecordedDate:n(),addVote:()=>{let a=n(),{dailyRecordedVotes:r,totalRecordedVotes:l,lastRecordedDate:s}=t(),o=r;a!==s&&(o=0);let i=o+1,c=l+1;localStorage.setItem("voteCounters",JSON.stringify({dailyRecordedVotes:i,totalRecordedVotes:c,lastRecordedDate:a})),e({dailyRecordedVotes:i,totalRecordedVotes:c,lastRecordedDate:a})},hydrate:()=>{let t=localStorage.getItem("voteCounters");t&&e(JSON.parse(t))},resetDaily:()=>{let a=n();e({dailyRecordedVotes:0,lastRecordedDate:a}),localStorage.setItem("voteCounters",JSON.stringify({...t(),dailyRecordedVotes:0,lastRecordedDate:a}))}}))},7305:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(5155);a(2115);var n=a(5002);function l(e){let{size:t=32,color:a="text-white-500",className:l=""}=e;return(0,r.jsxs)("div",{className:"my-auto ".concat(l),"aria-label":"Loading...",role:"status",children:[(0,r.jsx)(n.y,{size:t,className:"animate-spin ".concat(a),weight:"bold"}),(0,r.jsx)("span",{className:"sr-only",children:"Loading..."})]})}},7764:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,9661,23)),Promise.resolve().then(a.t.bind(a,347,23)),Promise.resolve().then(a.bind(a,3120))},9661:e=>{e.exports={style:{fontFamily:"'Poppins', 'Poppins Fallback'",fontStyle:"normal"},className:"__className_6bee3b",variable:"__variable_6bee3b"}}},e=>{e.O(0,[805,711,441,964,358],()=>e(e.s=7764)),_N_E=e.O()}]);